stages:
# or just have it as a manual cmd?
# use foreach? param sweep discussion https://github.com/iterative/dvc/pull/8187

  map:
    #                                        set to false for testing. really slow.
    cmd: python -m mapping.speckle --inference=False --stream_id=${building}
    wdir: work
    deps:
      - ../../ontologies/imported/223p.ttl
      - ../223p
      - ../src/mapping
      # ../src/validation?
    outs:
      - out.ttl

  upload:
    cmd: python -m graphdb.tasks upload_graph out.ttl --delete=True  --name ${building}
    wdir: work
    deps:
      - out.ttl
  

# test here? to actually error out if check?
