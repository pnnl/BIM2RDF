PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX spkl: <http://speckle.systems/> 
prefix xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX meta: <http://meta>

CONSTRUCT { 
  ?conn s223:cnx ?this.
  ?conn  a s223:InletConnectionPoint.
  ?conn rdfs:label "InletConnectionPoint"^^xsd:string.
  #_:myelectricity a s223:Medium-Electricity. works
  #?conn s223:hasMedium _:myelectricity.
  #?conn s223:hasMedium s223:Medium-Electricity. complaint
  ?conn s223:hasMedium s223:AC-120VLN-1Ph-60Hz. # TODO: map this value
}
WHERE { 
#<<?this spkl:category  "Lighting Fixtures">> meta: <<?mi spkl:name "architecture/rooms and lighting fixtures">>. # TODO branchName could be used here
    #?this spkl:phaseCreated ?_.  # to say it's being 'used' in the plan and not part of the 'types'
    # why the above doesn't work?!
    ?this a s223:Luminaire. # issue #26
    <<?thisconn spkl:category  "Lighting Fixtures">> meta: <<?mi spkl:name "electrical/electrical connection">>. # TODO branchName could be used here
    # connect the branches through elementid
    # b/c the speckle ids will not be the same 
    # b/c one export has 'Connection' info.
    ?this spkl:elementId ?eid.
    ?thisconn spkl:elementId ?eid.
    ?thisconn spkl:Connectors/rdf:rest*/rdf:first ?conn.
}